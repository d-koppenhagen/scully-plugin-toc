# scully-plugin-toc

[![Build Status](https://travis-ci.org/d-koppenhagen/scully-plugin-toc.svg?branch=master)](https://travis-ci.org/d-koppenhagen/scully-plugin-toc.svg?branch=master)
[![Coverage Status](https://coveralls.io/repos/github/d-koppenhagen/scully-plugin-toc/badge.svg?branch=master)](https://coveralls.io/github/d-koppenhagen/scully-plugin-toc?branch=master)
[![MIT license](http://img.shields.io/badge/license-MIT-brightgreen.svg)](http://opensource.org/licenses/MIT)

This plugin for [Scully](https://github.com/scullyio/scully) provides a `postRenderer` to generate a table of contents for the rendered route content

## Usage

To use the plugin you should import it in your scully configuration file (`scully.<project-name>.config.js`) and set it as a `postRenderer`.
You can also specify the `toc` options object to customize the generated table of contents.

```js
require('./scully-plugins/toc');

exports.config = {
  projectRoot: "./src",
  projectName: "your-project-name",
  outDir: './dist/static',
  routes: {
    '/blog/:slug': {
      type: 'contentFolder',
      postRenderers: ['toc'],
      slug: {
        folder: "./blog"
      },
      toc: {
        blogAreaSelector: '.blog-content',
        insertSelector: '#toc',
        level: ['h2', 'h3'],
        heading: {
          tag: 'h2',
          defaultLang: 'de',
          title: {
            en: 'Table of contents',
            de: 'Inhalt',
          }
        }
      }
    },
  }
};
```

The toc will be generated by analyzing the headings generated by _Scully_.
The above example configuration will look for an HTML element with the id `toc` and insert the toc at this place.

```md
# my blog post

<div id="toc"></div>

## heading 1
### subheading 1
## heading 2
### subheading 2
```




