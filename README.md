# scully-plugin-toc

![Build Status](https://github.com/d-koppenhagen/scully-plugin-toc/workflows/Node.js%20CI/badge.svg)
[![npm](https://img.shields.io/npm/v/scully-plugin-toc.svg)](https://www.npmjs.com/package/scully-plugin-toc)
[![Dependency Status](https://david-dm.org/d-koppenhagen/scully-plugin-toc.svg)](https://david-dm.org/d-koppenhagen/scully-plugin-toc)
[![devDependency Status](https://david-dm.org/d-koppenhagen/scully-plugin-toc/dev-status.svg)](https://david-dm.org/d-koppenhagen/scully-plugin-toc?type=dev)

[![npm](https://img.shields.io/npm/l/scully-plugin-toc.svg)](https://www.npmjs.com/package/scully-plugin-toc)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](http://makeapullrequest.com)
[![Open Source Love](https://badges.frapsoft.com/os/v1/open-source.svg?v=102)](https://github.com/ellerbrock/open-source-badge/)

[![Conventional Commits](https://img.shields.io/badge/Conventional%20Commits-1.0.0-yellow.svg)](https://conventionalcommits.org)
[![Commitizen friendly](https://img.shields.io/badge/commitizen-friendly-brightgreen.svg)](http://commitizen.github.io/cz-cli/)
[![semantic-release](https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg?style=flat-square)](https://github.com/semantic-release/semantic-release)

This plugin for [Scully](https://github.com/scullyio/scully) provides a `postRenderer` to generate a table of contents for the rendered route content

## Usage

To use the plugin you should import it in your scully configuration file (`scully.<project-name>.config.js`) and set it as a `postRenderer`.
You can also specify the `toc` options object to customize the generated table of contents.

```js
require('./scully-plugins/toc');

exports.config = {
  projectRoot: "./src",
  projectName: "your-project-name",
  outDir: './dist/static',
  routes: {
    '/blog/:slug': {
      type: 'contentFolder',
      postRenderers: ['toc'],
      slug: {
        folder: "./blog"
      },
      toc: {
        blogAreaSelector: '.blog-content',
        insertSelector: '#toc',
        level: ['h2', 'h3'],
        heading: {
          tag: 'h2',
          defaultLang: 'de',
          title: {
            en: 'Table of contents',
            de: 'Inhalt',
          }
        }
      }
    },
  }
};
```

The toc will be generated by analyzing the headings generated by _Scully_.
The above example configuration will look for an HTML element with the id `toc` and insert the toc at this place.

```md
# my blog post

<div id="toc"></div>

## heading 1
### subheading 1
## heading 2
### subheading 2
```




